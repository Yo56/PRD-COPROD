\hypertarget{structinstance}{}\doxysection{instance Struct Reference}
\label{structinstance}\index{instance@{instance}}


The \textquotesingle{}instance\textquotesingle{} type which needs to be standard layout (need to be able to use \textquotesingle{}offsetof\textquotesingle{})  




{\ttfamily \#include $<$common.\+h$>$}

\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{structinstance_addb02b48487bafc757c28d40d1d6a995}{allocate\+\_\+layout}} ()
\begin{DoxyCompactList}\small\item\em Initializes all of the above type/values/holders data. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{structinstance_a0e6db8a0edd9f4d440a4b31fb1f59d19}{deallocate\+\_\+layout}} ()
\begin{DoxyCompactList}\small\item\em Destroys/deallocates all of the above. \end{DoxyCompactList}\item 
\mbox{\hyperlink{structvalue__and__holder}{value\+\_\+and\+\_\+holder}} \mbox{\hyperlink{structinstance_a9fbc9862318ed963399c6a65089fa7eb}{get\+\_\+value\+\_\+and\+\_\+holder}} (const \mbox{\hyperlink{structtype__info}{type\+\_\+info}} $\ast$find\+\_\+type=nullptr)
\end{DoxyCompactItemize}
\doxysubsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\begin{tabbing}
xx\=xx\=xx\=xx\=xx\=xx\=xx\=xx\=xx\=\kill
union \{\\
\>void $\ast$ \mbox{\hyperlink{structinstance_a41170a51b771a937d421d60d97d50e48}{simple\_value\_holder}} \mbox{[}1+\mbox{\hyperlink{common_8h_a24241089c1b051b143781ff5a6193a76}{instance\_simple\_holder\_in\_ptrs}}()\mbox{]}\\
\>struct \{\\
\>\>void $\ast$$\ast$ \mbox{\hyperlink{structinstance_a2c17305eead3dc81688a5b6dcaf9e4e6}{values\_and\_holders}}\\
\>\>bool $\ast$ \mbox{\hyperlink{structinstance_aeb807b054b95ef29c12eb44a95423ea1}{holder\_constructed}}\\
\>\} \mbox{\hyperlink{structinstance_ab02ecf5606eaaca4a6772a039c6a6250}{nonsimple}}\\
\}; \\

\end{tabbing}\begin{DoxyCompactList}\small\item\em Storage for pointers and holder; see simple\+\_\+layout, below, for a description. \end{DoxyCompactList}\item 
Py\+Object $\ast$ \mbox{\hyperlink{structinstance_a23dd4c6144dbfa8ed0ba6d2a7a964998}{weakrefs}}
\begin{DoxyCompactList}\small\item\em Weak references (needed for keep alive)\+: \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{structinstance_a69b3e638c182ecbbaaa5625ce3c36e99}{owned}}\+: 1
\begin{DoxyCompactList}\small\item\em If true, the pointer is owned which means we\textquotesingle{}re free to manage it with a holder. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{structinstance_a1e23897fd281cdd5cecd2d36b5d7a26d}{simple\+\_\+layout}}\+: 1
\item 
bool \mbox{\hyperlink{structinstance_a70b19567d7738df6679e1599e7d3ff75}{simple\+\_\+holder\+\_\+constructed}}\+: 1
\begin{DoxyCompactList}\small\item\em For simple layout, tracks whether the holder has been constructed. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{structinstance_a30d2da1bf481e5628e3f20a84a4bcd1a}{has\+\_\+patients}}\+: 1
\begin{DoxyCompactList}\small\item\em If true, \mbox{\hyperlink{cast_8h_a04a9d4c2d4a027e104437cce54c0cc5f}{get\+\_\+internals()}}.patients has an entry for this object. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
The \textquotesingle{}instance\textquotesingle{} type which needs to be standard layout (need to be able to use \textquotesingle{}offsetof\textquotesingle{}) 

\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{structinstance_addb02b48487bafc757c28d40d1d6a995}\label{structinstance_addb02b48487bafc757c28d40d1d6a995}} 
\index{instance@{instance}!allocate\_layout@{allocate\_layout}}
\index{allocate\_layout@{allocate\_layout}!instance@{instance}}
\doxysubsubsection{\texorpdfstring{allocate\_layout()}{allocate\_layout()}}
{\footnotesize\ttfamily \mbox{\hyperlink{common_8h_a1fb186b7494d5c576d902c0730ecbb71}{PYBIND11\+\_\+\+NOINLINE}} void instance\+::allocate\+\_\+layout (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Initializes all of the above type/values/holders data. 

\mbox{\Hypertarget{structinstance_a0e6db8a0edd9f4d440a4b31fb1f59d19}\label{structinstance_a0e6db8a0edd9f4d440a4b31fb1f59d19}} 
\index{instance@{instance}!deallocate\_layout@{deallocate\_layout}}
\index{deallocate\_layout@{deallocate\_layout}!instance@{instance}}
\doxysubsubsection{\texorpdfstring{deallocate\_layout()}{deallocate\_layout()}}
{\footnotesize\ttfamily \mbox{\hyperlink{common_8h_a1fb186b7494d5c576d902c0730ecbb71}{PYBIND11\+\_\+\+NOINLINE}} void instance\+::deallocate\+\_\+layout (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Destroys/deallocates all of the above. 

\mbox{\Hypertarget{structinstance_a9fbc9862318ed963399c6a65089fa7eb}\label{structinstance_a9fbc9862318ed963399c6a65089fa7eb}} 
\index{instance@{instance}!get\_value\_and\_holder@{get\_value\_and\_holder}}
\index{get\_value\_and\_holder@{get\_value\_and\_holder}!instance@{instance}}
\doxysubsubsection{\texorpdfstring{get\_value\_and\_holder()}{get\_value\_and\_holder()}}
{\footnotesize\ttfamily \mbox{\hyperlink{common_8h_a1fb186b7494d5c576d902c0730ecbb71}{PYBIND11\+\_\+\+NOINLINE}} \mbox{\hyperlink{structvalue__and__holder}{value\+\_\+and\+\_\+holder}} instance\+::get\+\_\+value\+\_\+and\+\_\+holder (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structtype__info}{type\+\_\+info}} $\ast$}]{find\+\_\+type = {\ttfamily nullptr} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Returns the \mbox{\hyperlink{structvalue__and__holder}{value\+\_\+and\+\_\+holder}} wrapper for the given type (or the first, if {\ttfamily find\+\_\+type} omitted)

Extracts C++ value and holder pointer references from an instance (which may contain multiple values/holders for python-\/side multiple inheritance) that match the given type. Throws an error if the given type (or Value\+Type, if omitted) is not a \mbox{\hyperlink{namespacepybind11}{pybind11}} base of the given instance. If {\ttfamily find\+\_\+type} is omitted (or explicitly specified as nullptr) the first value/holder are returned, regardless of type (and the resulting .type will be nullptr).

The returned object should be short-\/lived\+: in particular, it must not outlive the called-\/upon instance. 

\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{structinstance_ad563311bccad98a54bb299aa3224689d}\label{structinstance_ad563311bccad98a54bb299aa3224689d}} 
\doxysubsubsection{\texorpdfstring{}{}}
{\footnotesize\ttfamily Py\+Object\+\_\+\+HEAD \{ ... \} }



Storage for pointers and holder; see simple\+\_\+layout, below, for a description. 

\mbox{\Hypertarget{structinstance_a30d2da1bf481e5628e3f20a84a4bcd1a}\label{structinstance_a30d2da1bf481e5628e3f20a84a4bcd1a}} 
\index{instance@{instance}!has\_patients@{has\_patients}}
\index{has\_patients@{has\_patients}!instance@{instance}}
\doxysubsubsection{\texorpdfstring{has\_patients}{has\_patients}}
{\footnotesize\ttfamily bool instance\+::has\+\_\+patients}



If true, \mbox{\hyperlink{cast_8h_a04a9d4c2d4a027e104437cce54c0cc5f}{get\+\_\+internals()}}.patients has an entry for this object. 

\mbox{\Hypertarget{structinstance_aeb807b054b95ef29c12eb44a95423ea1}\label{structinstance_aeb807b054b95ef29c12eb44a95423ea1}} 
\index{instance@{instance}!holder\_constructed@{holder\_constructed}}
\index{holder\_constructed@{holder\_constructed}!instance@{instance}}
\doxysubsubsection{\texorpdfstring{holder\_constructed}{holder\_constructed}}
{\footnotesize\ttfamily bool$\ast$ instance\+::holder\+\_\+constructed}

\mbox{\Hypertarget{structinstance_ab02ecf5606eaaca4a6772a039c6a6250}\label{structinstance_ab02ecf5606eaaca4a6772a039c6a6250}} 
\index{instance@{instance}!nonsimple@{nonsimple}}
\index{nonsimple@{nonsimple}!instance@{instance}}
\doxysubsubsection{\texorpdfstring{}{}}
{\footnotesize\ttfamily struct \{ ... \}  instance\+::nonsimple}

\mbox{\Hypertarget{structinstance_a69b3e638c182ecbbaaa5625ce3c36e99}\label{structinstance_a69b3e638c182ecbbaaa5625ce3c36e99}} 
\index{instance@{instance}!owned@{owned}}
\index{owned@{owned}!instance@{instance}}
\doxysubsubsection{\texorpdfstring{owned}{owned}}
{\footnotesize\ttfamily bool instance\+::owned}



If true, the pointer is owned which means we\textquotesingle{}re free to manage it with a holder. 

\mbox{\Hypertarget{structinstance_a70b19567d7738df6679e1599e7d3ff75}\label{structinstance_a70b19567d7738df6679e1599e7d3ff75}} 
\index{instance@{instance}!simple\_holder\_constructed@{simple\_holder\_constructed}}
\index{simple\_holder\_constructed@{simple\_holder\_constructed}!instance@{instance}}
\doxysubsubsection{\texorpdfstring{simple\_holder\_constructed}{simple\_holder\_constructed}}
{\footnotesize\ttfamily bool instance\+::simple\+\_\+holder\+\_\+constructed}



For simple layout, tracks whether the holder has been constructed. 

\mbox{\Hypertarget{structinstance_a1e23897fd281cdd5cecd2d36b5d7a26d}\label{structinstance_a1e23897fd281cdd5cecd2d36b5d7a26d}} 
\index{instance@{instance}!simple\_layout@{simple\_layout}}
\index{simple\_layout@{simple\_layout}!instance@{instance}}
\doxysubsubsection{\texorpdfstring{simple\_layout}{simple\_layout}}
{\footnotesize\ttfamily bool instance\+::simple\+\_\+layout}

An instance has two possible value/holder layouts.

Simple layout (when this flag is true), means the {\ttfamily simple\+\_\+value\+\_\+holder} is set with a pointer and the holder object governing that pointer, i.\+e. \mbox{[}val1$\ast$\mbox{]}\mbox{[}holder\mbox{]}. This layout is applied whenever there is no python-\/side multiple inheritance of bound C++ types {\itshape and} the type\textquotesingle{}s holder will fit in the default space (which is large enough to hold either a std\+::unique\+\_\+ptr or std\+::shared\+\_\+ptr).

Non-\/simple layout applies when using custom holders that require more space than {\ttfamily shared\+\_\+ptr} (which is typically the size of two pointers), or when multiple inheritance is used on the python side. Non-\/simple layout allocates the required amount of memory to have multiple bound C++ classes as parents. Under this layout, {\ttfamily nonsimple.\+values\+\_\+and\+\_\+holders} is set to a pointer to allocated space of the required space to hold a a sequence of value pointers and holders followed by a set of holder-\/constructed flags (1 byte each), i.\+e. \mbox{[}val1$\ast$\mbox{]}\mbox{[}holder1\mbox{]}\mbox{[}val2$\ast$\mbox{]}\mbox{[}holder2\mbox{]}...\mbox{[}bb...\mbox{]} where each \mbox{[}block\mbox{]} is rounded up to a multiple of {\ttfamily sizeof(void $\ast$)}. {\ttfamily nonsimple.\+holder\+\_\+constructed} is, for convenience, a pointer to the beginning of the \mbox{[}bb...\mbox{]} block (but not independently allocated). \mbox{\Hypertarget{structinstance_a41170a51b771a937d421d60d97d50e48}\label{structinstance_a41170a51b771a937d421d60d97d50e48}} 
\index{instance@{instance}!simple\_value\_holder@{simple\_value\_holder}}
\index{simple\_value\_holder@{simple\_value\_holder}!instance@{instance}}
\doxysubsubsection{\texorpdfstring{simple\_value\_holder}{simple\_value\_holder}}
{\footnotesize\ttfamily void$\ast$ instance\+::simple\+\_\+value\+\_\+holder\mbox{[}1+\mbox{\hyperlink{common_8h_a24241089c1b051b143781ff5a6193a76}{instance\+\_\+simple\+\_\+holder\+\_\+in\+\_\+ptrs}}()\mbox{]}}

\mbox{\Hypertarget{structinstance_a2c17305eead3dc81688a5b6dcaf9e4e6}\label{structinstance_a2c17305eead3dc81688a5b6dcaf9e4e6}} 
\index{instance@{instance}!values\_and\_holders@{values\_and\_holders}}
\index{values\_and\_holders@{values\_and\_holders}!instance@{instance}}
\doxysubsubsection{\texorpdfstring{values\_and\_holders}{values\_and\_holders}}
{\footnotesize\ttfamily void$\ast$$\ast$ instance\+::values\+\_\+and\+\_\+holders}

\mbox{\Hypertarget{structinstance_a23dd4c6144dbfa8ed0ba6d2a7a964998}\label{structinstance_a23dd4c6144dbfa8ed0ba6d2a7a964998}} 
\index{instance@{instance}!weakrefs@{weakrefs}}
\index{weakrefs@{weakrefs}!instance@{instance}}
\doxysubsubsection{\texorpdfstring{weakrefs}{weakrefs}}
{\footnotesize\ttfamily Py\+Object$\ast$ instance\+::weakrefs}



Weak references (needed for keep alive)\+: 



The documentation for this struct was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
C\+:/\+Users/nouet/\+Documents/\+Cours/5\+A/\+Dev PRD/\+Prd\+Coprod/\+Prd\+Coprod/libs/xlnt-\/1.\+5.\+0/third-\/party/pybind11/include/pybind11/\mbox{\hyperlink{common_8h}{common.\+h}}\item 
C\+:/\+Users/nouet/\+Documents/\+Cours/5\+A/\+Dev PRD/\+Prd\+Coprod/\+Prd\+Coprod/libs/xlnt-\/1.\+5.\+0/third-\/party/pybind11/include/pybind11/\mbox{\hyperlink{cast_8h}{cast.\+h}}\end{DoxyCompactItemize}
